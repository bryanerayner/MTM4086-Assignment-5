<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Humble Bumble Store</title>
    <link rel="stylesheet" href="css/store.css">

</head>
<body>


  <script type = "text/x-handlebars" data-template-name = "application">

<nav class="top-bar" data-topbar>
  <ul class="title-area">
    <li class="name">
    <h1><a href="">The Humble Store</a></h1>
    <li class="toggle-topbar menu-icon"><a href="">Menu</a></li>
    </li>
  </ul>

  <section class="top-bar-section">
    <ul class="right">
      <li class="active"><a href="">Catalogue</a></li>
    </ul>
  </section>
</nav>


{{outlet}}

{{render "promos"}}
{{render "games"}}



</div>


  </script>

<script type = "text/x-handlebars" data-template-name = "index">

</script>

  <script type="text/javascript" data-template-name = "components/pagination-links">
    {{# if showPagination}}
    <div class="pagination pagination-centered">
      <ul>
        <li {{bind-attr class="hasPrevious::disabled"}}>
          <a {{action goToPreviousPage}}>&laquo;</a>
        </li>
        {{#if showBeforeEllipsis}}
          {{pagination-page page=1 currentPage=page}}
          <li class="disabled"><a>&hellip;</a></li>
        {{/if}}
        {{#each pageNumber in visiblePages}}
          {{pagination-page page=pageNumber currentPage=page}}
        {{/each}}
        {{#if showAfterEllipsis}}
          <li class="disabled"><a>&hellip;</a></li>
          {{pagination-page page=lastPage currentPage=page}}
        {{/if}}
        <li {{bind-attr class="hasNext::disabled"}}>
          <a {{action goToNextPage}}>
            &raquo;
          </a>
      </ul>
    </div>
  {{/if}}
  </script>


  <script type="text/javascript" data-template-name = "components/pagination-page">
    <a {{action pageClicked}}>{{page}}</a>
  </script>

  <script type="text/x-handlebars" data-template-name="promos">
  <div class="row">
  <div class = "small-12 columns">
  {{#each promo in controller.displayedPromos}}
  {{log promo}}
    {{game-promotion promo = promo}}
  {{/each}}
  </div>
  </div>
  </script>

  <script type="text/x-handlebars" data-template-name="components/game-promotion">
  {{#with promo}}
    <div class="_bgImage">
      <img {{bind-attr src="game.img_Lg"}} widht = "304" height = "189" alt="" class="_bgImage">
    </div>

    <div class="show-on-hover _details">
      <h2 class="_name">{{game.name}}</h2>
      {{partial "proxime"}}
      <a href="" class="_description">View trailer &amp; description...</a>
    </div>

    <div class="module sale_btn">
      <span class="_section _section-regular">19.99</span>
      <span class="_section _section-price">13.44</span>   
    </div>
  {{/with}}
  </script>


  <script type = "text/x-handlebars" data-template-name = "proxime">
    <div class="module proxime">
      {{#if steam}}
      <div class="_steam">Steam</div>
      {{/if}}
      {{#if drmFree}}
      <div class="_drmFree">DRM free</div>
      {{/if}}
      {{#if mac}}
      <div class="_mac">Mac</div>
      {{/if}}
      {{#if windows}}
      <div class="_windows">Windows</div>
      {{/if}}
      {{#if linux}}
      <div class="_linux">Linux</div>
      {{/if}}
    </div>
  </script>
	
  <script type = "text/x-handlebars" data-template-name = "games">
    

<div class = "row">
  <div class="small-12 medium-9 medium-push-3 columns">
    <div class="row collapse">
      
    {{#each game in controller.paginatedContent}}
      {{debug this}}
      {{game-preview game = game}}
    {{/each}}

    {{pagination-links page=page pages=pages}}

    </div>
  </div>

  <div class="small-12 medium-3 medium-pull-9 columns">
    
  </div>
  
</div>



  </script>

  <script type = "text/x-handlebars" data-template-name = "components/game-preview">
    {{#with game}}
      <article class="game clearfix">
        <div class="_game-thumb">
          <img {{bind-attr src="img_Sm"}} alt="">
        </div>  
        <div class="small-11 columns">
          <div class="panel clearfix">
          <div class="small-8 columns">
            <h5 class = "_game-name">{{name}}</h5>
          </div>
          <div class="small-4 columns">
              {{partial "proxime"}}
              <div class="module sale_btn">
                <div class="_section _section-regular">10.00</div>
                <div class="_section _section-price">3.99</div>
              </div>
            </div>
          </div>
        </div>
  

      </article>

    {{/with}}
  </script>


	<script src="bower_components/jquery/jquery.min.js"></script>
	<script src="bower_components/handlebars/handlebars.js"></script>
	<script src="bower_components/ember/ember.js"></script>
	<script src="bower_components/ember-data/ember-data.js"></script>

  <script src="js/application.js"></script>
  <script src="js/components/pagination.js"></script>
  <script src="js/models/game.js"></script>
  <script src="js/models/promo.js"></script>
  <script src="js/mixins/paginatable.js"></script>
  <script src="js/router.js"></script>

</body>
</html>